{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEPRECATED_SCHEMA = exports.getSafetyDepositBoxValidationTicket = exports.BidRedemptionTicketV1 = exports.AuctionManagerStateV1 = exports.WinningConfigStateItem = exports.WinningConfigState = exports.WinningConfigItem = exports.WinningConfig = exports.ParticipationConfigV1 = exports.ParticipationStateV1 = exports.AuctionManagerSettingsV1 = exports.DeprecatedValidateParticipationArgs = exports.DeprecatedPopulateParticipationPrintingAccountArgs = exports.DeprecatedRedeemParticipationBidArgs = exports.DeprecatedValidateSafetyDepositBoxV1Args = exports.DeprecatedInitAuctionManagerV1Args = exports.AuctionManagerV1 = exports.MAX_BID_REDEMPTION_TICKET_V1_SIZE = void 0;\n\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n\nconst _1 = require(\".\");\n\nconst utils_1 = require(\"../../utils\");\n\nexports.MAX_BID_REDEMPTION_TICKET_V1_SIZE = 3;\n\nclass AuctionManagerV1 {\n  constructor(args) {\n    this.key = _1.MetaplexKey.AuctionManagerV1;\n    this.store = args.store;\n    this.authority = args.authority;\n    this.auction = args.auction;\n    this.vault = args.vault;\n    this.acceptPayment = args.acceptPayment;\n    this.state = args.state;\n    this.settings = args.settings;\n  }\n\n}\n\nexports.AuctionManagerV1 = AuctionManagerV1;\n\nclass DeprecatedInitAuctionManagerV1Args {\n  constructor(args) {\n    this.instruction = 0;\n    this.settings = args.settings;\n  }\n\n}\n\nexports.DeprecatedInitAuctionManagerV1Args = DeprecatedInitAuctionManagerV1Args;\n\nclass DeprecatedValidateSafetyDepositBoxV1Args {\n  constructor() {\n    this.instruction = 1;\n  }\n\n}\n\nexports.DeprecatedValidateSafetyDepositBoxV1Args = DeprecatedValidateSafetyDepositBoxV1Args;\n\nclass DeprecatedRedeemParticipationBidArgs {\n  constructor() {\n    this.instruction = 4;\n  }\n\n}\n\nexports.DeprecatedRedeemParticipationBidArgs = DeprecatedRedeemParticipationBidArgs;\n\nclass DeprecatedPopulateParticipationPrintingAccountArgs {\n  constructor() {\n    this.instruction = 11;\n  }\n\n}\n\nexports.DeprecatedPopulateParticipationPrintingAccountArgs = DeprecatedPopulateParticipationPrintingAccountArgs;\n\nclass DeprecatedValidateParticipationArgs {\n  constructor() {\n    this.instruction = 10;\n  }\n\n}\n\nexports.DeprecatedValidateParticipationArgs = DeprecatedValidateParticipationArgs;\n\nclass AuctionManagerSettingsV1 {\n  constructor(args) {\n    this.winningConfigs = [];\n    this.participationConfig = null;\n    Object.assign(this, args);\n  }\n\n}\n\nexports.AuctionManagerSettingsV1 = AuctionManagerSettingsV1;\n\nclass ParticipationStateV1 {\n  constructor(args) {\n    this.collectedToAcceptPayment = new bn_js_1.default(0);\n    this.primarySaleHappened = false;\n    this.validated = false;\n    this.printingAuthorizationTokenAccount = null;\n    Object.assign(this, args);\n  }\n\n}\n\nexports.ParticipationStateV1 = ParticipationStateV1;\n\nclass ParticipationConfigV1 {\n  constructor(args) {\n    this.winnerConstraint = _1.WinningConstraint.NoParticipationPrize;\n    this.nonWinningConstraint = _1.NonWinningConstraint.GivenForFixedPrice;\n    this.safetyDepositBoxIndex = 0;\n    this.fixedPrice = new bn_js_1.default(0);\n    Object.assign(this, args);\n  }\n\n}\n\nexports.ParticipationConfigV1 = ParticipationConfigV1;\n\nclass WinningConfig {\n  constructor(args) {\n    this.items = [];\n    Object.assign(this, args);\n  }\n\n}\n\nexports.WinningConfig = WinningConfig;\n\nclass WinningConfigItem {\n  constructor(args) {\n    this.safetyDepositBoxIndex = 0;\n    this.amount = 0;\n    this.winningConfigType = _1.WinningConfigType.TokenOnlyTransfer;\n    Object.assign(this, args);\n  }\n\n}\n\nexports.WinningConfigItem = WinningConfigItem;\n\nclass WinningConfigState {\n  constructor(args) {\n    this.items = [];\n    this.moneyPushedToAcceptPayment = false;\n    Object.assign(this, args);\n  }\n\n}\n\nexports.WinningConfigState = WinningConfigState;\n\nclass WinningConfigStateItem {\n  constructor(args) {\n    this.primarySaleHappened = false;\n    this.claimed = false;\n    Object.assign(this, args);\n  }\n\n}\n\nexports.WinningConfigStateItem = WinningConfigStateItem;\n\nclass AuctionManagerStateV1 {\n  constructor(args) {\n    this.status = _1.AuctionManagerStatus.Initialized;\n    this.winningConfigItemsValidated = 0;\n    this.winningConfigStates = [];\n    this.participationState = null;\n    Object.assign(this, args);\n  }\n\n}\n\nexports.AuctionManagerStateV1 = AuctionManagerStateV1;\n\nclass BidRedemptionTicketV1 {\n  constructor(args) {\n    this.key = _1.MetaplexKey.BidRedemptionTicketV1;\n    this.participationRedeemed = false;\n    this.itemsRedeemed = 0;\n    Object.assign(this, args);\n  }\n\n  getBidRedeemed() {\n    return this.participationRedeemed;\n  }\n\n}\n\nexports.BidRedemptionTicketV1 = BidRedemptionTicketV1;\n\nasync function getSafetyDepositBoxValidationTicket(auctionManager, safetyDepositBox) {\n  const PROGRAM_IDS = utils_1.programIds();\n  return (await utils_1.findProgramAddress([Buffer.from(_1.METAPLEX_PREFIX), utils_1.toPublicKey(PROGRAM_IDS.metaplex).toBuffer(), utils_1.toPublicKey(auctionManager).toBuffer(), utils_1.toPublicKey(safetyDepositBox).toBuffer()], utils_1.toPublicKey(PROGRAM_IDS.metaplex)))[0];\n}\n\nexports.getSafetyDepositBoxValidationTicket = getSafetyDepositBoxValidationTicket;\nexports.DEPRECATED_SCHEMA = new Map([[AuctionManagerV1, {\n  kind: 'struct',\n  fields: [['key', 'u8'], ['store', 'pubkeyAsString'], ['authority', 'pubkeyAsString'], ['auction', 'pubkeyAsString'], ['vault', 'pubkeyAsString'], ['acceptPayment', 'pubkeyAsString'], ['state', AuctionManagerStateV1], ['settings', AuctionManagerSettingsV1]]\n}], [ParticipationConfigV1, {\n  kind: 'struct',\n  fields: [['winnerConstraint', 'u8'], ['nonWinningConstraint', 'u8'], ['safetyDepositBoxIndex', 'u8'], ['fixedPrice', {\n    kind: 'option',\n    type: 'u64'\n  }]]\n}], [AuctionManagerSettingsV1, {\n  kind: 'struct',\n  fields: [['winningConfigs', [WinningConfig]], ['participationConfig', {\n    kind: 'option',\n    type: ParticipationConfigV1\n  }]]\n}], [WinningConfig, {\n  kind: 'struct',\n  fields: [['items', [WinningConfigItem]]]\n}], [WinningConfigItem, {\n  kind: 'struct',\n  fields: [['safetyDepositBoxIndex', 'u8'], ['amount', 'u8'], ['winningConfigType', 'u8']]\n}], [WinningConfigState, {\n  kind: 'struct',\n  fields: [['items', [WinningConfigStateItem]], ['moneyPushedToAcceptPayment', 'u8'] // bool\n  ]\n}], [WinningConfigStateItem, {\n  kind: 'struct',\n  fields: [['primarySaleHappened', 'u8'], ['claimed', 'u8'] // bool\n  ]\n}], [AuctionManagerStateV1, {\n  kind: 'struct',\n  fields: [['status', 'u8'], ['winningConfigItemsValidated', 'u8'], ['winningConfigStates', [WinningConfigState]], ['participationState', {\n    kind: 'option',\n    type: ParticipationStateV1\n  }]]\n}], [ParticipationStateV1, {\n  kind: 'struct',\n  fields: [['collectedToAcceptPayment', 'u64'], ['primarySaleHappened', 'u8'], ['validated', 'u8'], ['printingAuthorizationTokenAccount', {\n    kind: 'option',\n    type: 'pubkeyAsString'\n  }]]\n}], [BidRedemptionTicketV1, {\n  kind: 'struct',\n  fields: [['key', 'u8'], ['participationRedeemed', 'u8'], ['itemsRedeemed', 'u8'] // bool\n  ]\n}], [DeprecatedPopulateParticipationPrintingAccountArgs, {\n  kind: 'struct',\n  fields: [['instruction', 'u8']]\n}], [DeprecatedInitAuctionManagerV1Args, {\n  kind: 'struct',\n  fields: [['instruction', 'u8'], ['settings', AuctionManagerSettingsV1]]\n}], [DeprecatedValidateSafetyDepositBoxV1Args, {\n  kind: 'struct',\n  fields: [['instruction', 'u8']]\n}], [DeprecatedRedeemParticipationBidArgs, {\n  kind: 'struct',\n  fields: [['instruction', 'u8']]\n}], [DeprecatedValidateParticipationArgs, {\n  kind: 'struct',\n  fields: [['instruction', 'u8']]\n}]]);","map":{"version":3,"sources":["../../../../src/models/metaplex/deprecatedStates.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DEPRECATED_SCHEMA = exports.getSafetyDepositBoxValidationTicket = exports.BidRedemptionTicketV1 = exports.AuctionManagerStateV1 = exports.WinningConfigStateItem = exports.WinningConfigState = exports.WinningConfigItem = exports.WinningConfig = exports.ParticipationConfigV1 = exports.ParticipationStateV1 = exports.AuctionManagerSettingsV1 = exports.DeprecatedValidateParticipationArgs = exports.DeprecatedPopulateParticipationPrintingAccountArgs = exports.DeprecatedRedeemParticipationBidArgs = exports.DeprecatedValidateSafetyDepositBoxV1Args = exports.DeprecatedInitAuctionManagerV1Args = exports.AuctionManagerV1 = exports.MAX_BID_REDEMPTION_TICKET_V1_SIZE = void 0;\r\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\r\nconst _1 = require(\".\");\r\nconst utils_1 = require(\"../../utils\");\r\nexports.MAX_BID_REDEMPTION_TICKET_V1_SIZE = 3;\r\nclass AuctionManagerV1 {\r\n    constructor(args) {\r\n        this.key = _1.MetaplexKey.AuctionManagerV1;\r\n        this.store = args.store;\r\n        this.authority = args.authority;\r\n        this.auction = args.auction;\r\n        this.vault = args.vault;\r\n        this.acceptPayment = args.acceptPayment;\r\n        this.state = args.state;\r\n        this.settings = args.settings;\r\n    }\r\n}\r\nexports.AuctionManagerV1 = AuctionManagerV1;\r\nclass DeprecatedInitAuctionManagerV1Args {\r\n    constructor(args) {\r\n        this.instruction = 0;\r\n        this.settings = args.settings;\r\n    }\r\n}\r\nexports.DeprecatedInitAuctionManagerV1Args = DeprecatedInitAuctionManagerV1Args;\r\nclass DeprecatedValidateSafetyDepositBoxV1Args {\r\n    constructor() {\r\n        this.instruction = 1;\r\n    }\r\n}\r\nexports.DeprecatedValidateSafetyDepositBoxV1Args = DeprecatedValidateSafetyDepositBoxV1Args;\r\nclass DeprecatedRedeemParticipationBidArgs {\r\n    constructor() {\r\n        this.instruction = 4;\r\n    }\r\n}\r\nexports.DeprecatedRedeemParticipationBidArgs = DeprecatedRedeemParticipationBidArgs;\r\nclass DeprecatedPopulateParticipationPrintingAccountArgs {\r\n    constructor() {\r\n        this.instruction = 11;\r\n    }\r\n}\r\nexports.DeprecatedPopulateParticipationPrintingAccountArgs = DeprecatedPopulateParticipationPrintingAccountArgs;\r\nclass DeprecatedValidateParticipationArgs {\r\n    constructor() {\r\n        this.instruction = 10;\r\n    }\r\n}\r\nexports.DeprecatedValidateParticipationArgs = DeprecatedValidateParticipationArgs;\r\nclass AuctionManagerSettingsV1 {\r\n    constructor(args) {\r\n        this.winningConfigs = [];\r\n        this.participationConfig = null;\r\n        Object.assign(this, args);\r\n    }\r\n}\r\nexports.AuctionManagerSettingsV1 = AuctionManagerSettingsV1;\r\nclass ParticipationStateV1 {\r\n    constructor(args) {\r\n        this.collectedToAcceptPayment = new bn_js_1.default(0);\r\n        this.primarySaleHappened = false;\r\n        this.validated = false;\r\n        this.printingAuthorizationTokenAccount = null;\r\n        Object.assign(this, args);\r\n    }\r\n}\r\nexports.ParticipationStateV1 = ParticipationStateV1;\r\nclass ParticipationConfigV1 {\r\n    constructor(args) {\r\n        this.winnerConstraint = _1.WinningConstraint.NoParticipationPrize;\r\n        this.nonWinningConstraint = _1.NonWinningConstraint.GivenForFixedPrice;\r\n        this.safetyDepositBoxIndex = 0;\r\n        this.fixedPrice = new bn_js_1.default(0);\r\n        Object.assign(this, args);\r\n    }\r\n}\r\nexports.ParticipationConfigV1 = ParticipationConfigV1;\r\nclass WinningConfig {\r\n    constructor(args) {\r\n        this.items = [];\r\n        Object.assign(this, args);\r\n    }\r\n}\r\nexports.WinningConfig = WinningConfig;\r\nclass WinningConfigItem {\r\n    constructor(args) {\r\n        this.safetyDepositBoxIndex = 0;\r\n        this.amount = 0;\r\n        this.winningConfigType = _1.WinningConfigType.TokenOnlyTransfer;\r\n        Object.assign(this, args);\r\n    }\r\n}\r\nexports.WinningConfigItem = WinningConfigItem;\r\nclass WinningConfigState {\r\n    constructor(args) {\r\n        this.items = [];\r\n        this.moneyPushedToAcceptPayment = false;\r\n        Object.assign(this, args);\r\n    }\r\n}\r\nexports.WinningConfigState = WinningConfigState;\r\nclass WinningConfigStateItem {\r\n    constructor(args) {\r\n        this.primarySaleHappened = false;\r\n        this.claimed = false;\r\n        Object.assign(this, args);\r\n    }\r\n}\r\nexports.WinningConfigStateItem = WinningConfigStateItem;\r\nclass AuctionManagerStateV1 {\r\n    constructor(args) {\r\n        this.status = _1.AuctionManagerStatus.Initialized;\r\n        this.winningConfigItemsValidated = 0;\r\n        this.winningConfigStates = [];\r\n        this.participationState = null;\r\n        Object.assign(this, args);\r\n    }\r\n}\r\nexports.AuctionManagerStateV1 = AuctionManagerStateV1;\r\nclass BidRedemptionTicketV1 {\r\n    constructor(args) {\r\n        this.key = _1.MetaplexKey.BidRedemptionTicketV1;\r\n        this.participationRedeemed = false;\r\n        this.itemsRedeemed = 0;\r\n        Object.assign(this, args);\r\n    }\r\n    getBidRedeemed() {\r\n        return this.participationRedeemed;\r\n    }\r\n}\r\nexports.BidRedemptionTicketV1 = BidRedemptionTicketV1;\r\nasync function getSafetyDepositBoxValidationTicket(auctionManager, safetyDepositBox) {\r\n    const PROGRAM_IDS = utils_1.programIds();\r\n    return (await utils_1.findProgramAddress([\r\n        Buffer.from(_1.METAPLEX_PREFIX),\r\n        utils_1.toPublicKey(PROGRAM_IDS.metaplex).toBuffer(),\r\n        utils_1.toPublicKey(auctionManager).toBuffer(),\r\n        utils_1.toPublicKey(safetyDepositBox).toBuffer(),\r\n    ], utils_1.toPublicKey(PROGRAM_IDS.metaplex)))[0];\r\n}\r\nexports.getSafetyDepositBoxValidationTicket = getSafetyDepositBoxValidationTicket;\r\nexports.DEPRECATED_SCHEMA = new Map([\r\n    [\r\n        AuctionManagerV1,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['key', 'u8'],\r\n                ['store', 'pubkeyAsString'],\r\n                ['authority', 'pubkeyAsString'],\r\n                ['auction', 'pubkeyAsString'],\r\n                ['vault', 'pubkeyAsString'],\r\n                ['acceptPayment', 'pubkeyAsString'],\r\n                ['state', AuctionManagerStateV1],\r\n                ['settings', AuctionManagerSettingsV1],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        ParticipationConfigV1,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['winnerConstraint', 'u8'],\r\n                ['nonWinningConstraint', 'u8'],\r\n                ['safetyDepositBoxIndex', 'u8'],\r\n                ['fixedPrice', { kind: 'option', type: 'u64' }],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        AuctionManagerSettingsV1,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['winningConfigs', [WinningConfig]],\r\n                [\r\n                    'participationConfig',\r\n                    { kind: 'option', type: ParticipationConfigV1 },\r\n                ],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        WinningConfig,\r\n        {\r\n            kind: 'struct',\r\n            fields: [['items', [WinningConfigItem]]],\r\n        },\r\n    ],\r\n    [\r\n        WinningConfigItem,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['safetyDepositBoxIndex', 'u8'],\r\n                ['amount', 'u8'],\r\n                ['winningConfigType', 'u8'],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        WinningConfigState,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['items', [WinningConfigStateItem]],\r\n                ['moneyPushedToAcceptPayment', 'u8'], // bool\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        WinningConfigStateItem,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['primarySaleHappened', 'u8'],\r\n                ['claimed', 'u8'], // bool\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        AuctionManagerStateV1,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['status', 'u8'],\r\n                ['winningConfigItemsValidated', 'u8'],\r\n                ['winningConfigStates', [WinningConfigState]],\r\n                ['participationState', { kind: 'option', type: ParticipationStateV1 }],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        ParticipationStateV1,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['collectedToAcceptPayment', 'u64'],\r\n                ['primarySaleHappened', 'u8'],\r\n                ['validated', 'u8'],\r\n                [\r\n                    'printingAuthorizationTokenAccount',\r\n                    { kind: 'option', type: 'pubkeyAsString' },\r\n                ],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        BidRedemptionTicketV1,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['key', 'u8'],\r\n                ['participationRedeemed', 'u8'],\r\n                ['itemsRedeemed', 'u8'], // bool\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        DeprecatedPopulateParticipationPrintingAccountArgs,\r\n        {\r\n            kind: 'struct',\r\n            fields: [['instruction', 'u8']],\r\n        },\r\n    ],\r\n    [\r\n        DeprecatedInitAuctionManagerV1Args,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['instruction', 'u8'],\r\n                ['settings', AuctionManagerSettingsV1],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        DeprecatedValidateSafetyDepositBoxV1Args,\r\n        {\r\n            kind: 'struct',\r\n            fields: [['instruction', 'u8']],\r\n        },\r\n    ],\r\n    [\r\n        DeprecatedRedeemParticipationBidArgs,\r\n        {\r\n            kind: 'struct',\r\n            fields: [['instruction', 'u8']],\r\n        },\r\n    ],\r\n    [\r\n        DeprecatedValidateParticipationArgs,\r\n        {\r\n            kind: 'struct',\r\n            fields: [['instruction', 'u8']],\r\n        },\r\n    ],\r\n]);\r\n//# sourceMappingURL=deprecatedStates.js.map"]},"metadata":{},"sourceType":"script"}